
@{
    ViewData["Title"] = "Address";
}

<h1>Address</h1>

<select id="select1"></select>
<select id="select2"></select>
<select id="select3"></select>


@section Scripts{
    <script>
const { error } = require("jquery");

        const selCity = document.querySelector('#select1');
        const selDistrict = document.querySelector('#select2');
        const selRoad = document.querySelector('#select3');
        selCity.addEventListener('change', () => {
            //讀出使用者選擇的資料
            console.log(selCity.options[selCity.selectedIndex].value);
        })

        fetch('@Url.Content("~/api/City")')
            .then(response => response.json())
            .then(datas => { datas.forEach(City => { selCity.append(City) }) });
           fetch('@Url.Content("~/api/Districts")')
            .then(response => response.json())
               .then(datas => { datas.forEach(Districts => { selCity.append(Districts) }) });

           fetch('@Url.Content("~/api/Roads")')
            .then(response => response.json())
               .then(datas => { datas.forEach(Roads => { selCity.append(Roads) }) });
    </script>

}


